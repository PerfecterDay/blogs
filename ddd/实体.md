#实体
{docsify-updated}

- [实体](#实体)


**唯一的身份标识**和**可变性 (mutability)**特征将实体对象和值对象 (Value Objects）区分开来。

以下是一些常用的创建实体身份标识的策略，从简单到复杂依次为：
+ 用户提供一个或多个初始唯一值作为程序输人，程序应该保证这些初始值是唯一的。
+ 程序内部通过某种算法自动生成身份标识，此时可以使用一些类库或框架，当然程序自身也可以完成这样的功能。
+ 程序依赖于持久化存储，比如数据库，来生成唯一标识。
+ 另一个限界上下文（ 2 ）（系统或程序）已经决定出了唯一标识，这作为程序的输人，用户可以在一组标识中进行选择。

如果我们自己的领域需要另外一种实体标识，此时这两者将产生冲突。为了解决这个问题，我们需要使用两种标识，一种为领域所使用，一种为 ORM 所使用，在 Hibernate 中，这被称为委派标识 (surrogate ldentity) 。创建一个委派标识是非常直接的事情一一在实体上创建一个属性来保存委派标识即可。通常来说，委派标识采用 long 和 int 类型。同时，我们还需要相应地在数据库中创建一个列来保存该委派标识，并加上主键约束。然后，在实体的Hibernate 映射定义中加人 fid> 元素。请注意，此时的委派标识和领域中的实体标识没有任何关系，委派标识只是为了迎合 ORM 而创建的。