# vim 手册
{docsify-updated}

Mac 下可以使用 vimtutor 学习 vim。 直接在终端输入命令 vimtutor 即可。

1. 统计字符串出现的次数： `:%s/pattern//gn`
2. 命令模式下，开启行号显示：`set number`
3. 命令模式下，关闭行号显示：`set nonumber` 
4. 删除全部内容: `ggdG`

## 光标移动

### 行内移动：

+ `0 或 Home`：移动到行首
+ `$ 或 End`：移动到行尾
+ `w`：跳到下一个单词的词首
+ `e`：跳到当前或下一个单词的词尾
+ `b`：跳到当前或前一个单词的词首

### 屏幕移动：
+ `Ctrl+f`：向下翻一页
+ `Ctrl+b`：向上翻一页
+ `H`：移动到屏幕顶行
+ `M`：移动到屏幕中间行
+ `L`：移动到屏幕底行

### 文件内移动：
+ `gg`：移动到文件首行
+ `G`：移动到文件末行
+ `nG`：移动到文件的第n行

## 文本编辑

### 插入文本：
+ `i` ：在光标当前位置插入文本
+ `I` ：在光标所在行的行首插入文本
+ `a` ：在光标后一个位置插入文本
+ `A` ：在光标所在行的行尾插入文本
+ `o` ：在光标下一行插入新行
+ `O` ：在光标上一行插入新行

### 删除文本：
+ `x`：删除光标所在字符
+ `X`：删除光标前一个字符
+ `dd`：删除光标所在行
+ `D 或 d$`：删除光标所在处到行尾的内容
+ `d^ 或 d0`：删除光标所在处到行首的内容

### 复制与粘贴：
+ `yy`：复制光标所在行
+ `nyy`：复制光标向下n行
+ `p`：在光标下一行粘贴
+ `P`：在光标上一行粘贴

## 查找与替换

### 查找
+ `/word`：向下查找字符串“word”
+ `?word`：向上查找字符串“word”
+ `n`：跳到下一个匹配项
+ `N`：跳到上一个匹配项

### 替换
+ `:s/old/new/g`：替换当前行所有“old”为“new”
+ `:1,$s/old/new/g`：替换整个文件中的所有“old”为“new”
+ `:1,10s/old/new/g`：替换第1行到第10行中的所有“old”为“new”
+ `:%s/old/new/gc`：替换整个文件中的所有“old”为“new”，并在替换前提示确认



## 保存与退出

### 保存文件
+ `:w`：保存当前文件
+ `:w newfile`：将当前文件另存为“newfile”

### 退出Vim
+ `:q`：退出Vim（文件未修改时）
+ `:q!`：强制退出，不保存修改
+ `:wq`：保存并退出
+ `:wq!`：强制保存并退出
+ `ZZ`：保存并退出（文件已修改时）

## 其他常用命令
+ `u`：撤销上一个操作
+ `Ctrl+r`：重做上一个操作
+ `.`：重复上一个操作
+ `:set nu`：显示行号
+ `:set nonu`：取消显示行号
+ `:set mouse=a`：启用鼠标支持
+ `:!command`：执行外部命令


## 修改 jar 包文件
使用linux下自带的vim工具，能快速的修改jar包内的内容。
1.vim springboot.jar
2.光标往下移动（可以通过输入/abc来搜索），找到要修改的文件 Enter进入
3.编辑后:wq保存退出，注意这里只是推出编辑的文件，到编辑jar里面，:q 退出jar编辑就可以了