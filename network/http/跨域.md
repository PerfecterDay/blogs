#  浏览器的同源策略与跨源资源共享（CORS）
{docsify-updated}

> https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS  
> https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy

## Access-Control-Allow-Credentials
Access-Control-Allow-Credentials 响应头用于在请求要求包含 credentials（Request.credentials 的值为 include）时，告知浏览器是否可以将对请求的响应暴露给前端 JavaScript 代码。

```
https://appapi.gtjai.com/yichat/broker/info?token=1230452636424077312_dba96b34f42145a992f767dd0fedcd88&t=1713404369679

var xhr = new XMLHttpRequest();
xhr.open("GET", "https://uat-mobileapp.gtjaidemo.com/yichat/broker/info?token=1230466734977187840_24499053f2f5405598c7949da67fc76e&t=1", true);
xhr.send(null);

var xhr = new XMLHttpRequest();
xhr.open("GET", "https://uat-mobileapp.gtjaidemo.com/yichat/broker/info?token=1230466734977187840_24499053f2f5405598c7949da67fc76e&t=1", true);
xhr.withCredentials = true;
xhr.send(null);

fetch(url, {
  credentials: "include",
});
```

## Access-Control-Allow-Origin
Access-Control-Allow-Origin 响应标头指定了该响应的资源是否被允许与给定的来源（origin）共享。
```
Access-Control-Allow-Origin: *
Access-Control-Allow-Origin: <origin>
Access-Control-Allow-Origin: null
```

+ `*`
    对于不包含凭据的请求，服务器会以“*”作为通配符，从而允许任意来源的请求代码都具有访问资源的权限。尝试使用通配符来响应包含凭据的请求会导致错误。
+ `<origin>`
    指定一个来源（只能指定一个）。如果服务器支持多个来源的客户端，其必须以与指定客户端匹配的来源来响应请求。
+ `null`