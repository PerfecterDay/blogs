
## 单链表
{docsify-updated}

- [单链表](#单链表)
  - [专用头结点的作用](#专用头结点的作用)

链表中第一个结点的存储位置叫做头指针，那么整个链表的存取就必须从头指针开始进行了。之后的每一个结点，其实就是上一个的后继指针指向的位置。  
链表中第一个结点的存储位置叫做头指针。  
头指针和头结点不同，头结点即第一个结点，头指针是指向第一个结点的指针。链表中可以没有头结点，但不能没有头指针。  
如果链表有头结点，那么头指针就是指向头结点数据域的指针

<center><img src="pics/head-node.webp" alt="" width=""></center>
<center><img src="pics/no-head-node-list.webp" alt="" width=""></center>

### 专用头结点的作用
当没有专用头结点时，链表的第一个结点是没有前驱结点的，有专用头结点时，链表的第一个节点的前驱就是专用头结点。
这样，当我们在插入和删除节点时，找到插入位置后，需要获得它的前驱和后继，这样才能更改链接指针的指向。这时，如果没有专用头结点就需要对第一个结点进行特殊处理。如果有专用头结点，就可以使用相同的方式。

例如：
带有专用头结点的删除：
```
删除第1个结点（q指向的是头结点）：q->next（变量）=p->next（值是地址）; free(p); //q指向前驱，p指向待删除结点
删除第i个结点（i不等于1）：q->next=p->next;free(p); //q指向前驱，p指向待删除结点
```

不带有专用头结点的删除：
```
删除第1个结点（q指向的是头结点）：head=p->next; free(p); //p指向待删除结点
删除第i个结点（i不等于1）：q->next=p->next;free(p); //q指向前驱，p指向待删除结点
```

```
public class LinkedList {
    Node head = null; //头指针

    //头插
    public void headAdd(Object val){
        Node n = new Node(head,val);
        head = n;
    }

    //删除第n个结点
    public void deleteN(int n){
        if (n < 0 || head == null) return;

        Node p = head, q = p;
        if (n == 1){
            head = p.next;
            return;
        }

        int i = 1;
        while (i < n){
            q = p ;
            p = p.next;
        }
        q.next = p.next;
    }

    //在第n个结点之后插入新节点
    public void insertN(int n, int val){
        if (n < 0) return;

        Node p = head, q = p;
        if (n == 1){
            Node node = new Node(head,val);
            head = node;
            return;
        }

        int i = 1;
        while (i < n){
            p = p.next;
            q = p.next;
        }
        Node node = new Node(q,val);
        p.next = node;
    }


    //尾插
    public void tailAdd(Object val){
        Node n = new Node(null,val);
        Node p = head;
        while (p.next != null){
            p = p.next;
        }
        p.next = n;
    }

    //链表逆序，时间复杂度O(n),空间复杂度O(1)
    public void reverseList(){
        Node t = null, p = head;
        while (p != null){
            Node next = p.next;
            p.next = t;
            t = p;
            p = next;
        }
        head = t;
    }

    class Node{
        Node next;
        Object value;

        public Node(Node next, Object value) {
            this.next = next;
            this.value = value;
        }
    }

    @Override
    public String toString() {
        StringBuilder stb = new StringBuilder();
        Node p = head;
        while (p != null){
            stb.append(p.value+",");
            p = p.next;
        }
        stb.substring()
        return stb.toString();
    }

    public static void main(String[] args){
        LinkedList linkedList = new LinkedList();
        for (int i = 0; i < 10; i++) {
            linkedList.headAdd(i);
        }
        System.out.println(linkedList);
        linkedList.insertN(1,10);
        System.out.println(linkedList);
        linkedList.reverseList();
        System.out.println(linkedList);
        linkedList.deleteN(1);
        System.out.println(linkedList);
        linkedList.deleteN(3);
        System.out.println(linkedList);

        for (int i = 0; i < 10; i++) {
            linkedList.tailAdd(i);
        }
        System.out.println(linkedList);
        linkedList.reverseList();
        System.out.println(linkedList);
    }
}
```